{
  "rules": {
    ".read": "true",
    ".validate": "newData.hasChildren(['broadcasts'])",

    "broadcasts": {
      ".write": "!data.exists()",

      "$broadcastId": {
        ".validate": "newData.hasChildren(['createdAt', 'lat', 'long', 'courseCode', 'description'])",

        "createdAt": {
          ".validate": "newData.val() === now"
        },
        "lat": {
          ".validate": "newData.isNumber()"
        },
        "long": {
          ".validate": "newData.isNumber()"
        },
        "courseCode": {
          ".validate": "newData.isString()"
        },
        "description": {
          ".validate": "newData.isString()"
        }
      }
    }
  }
}